# イベントストーミング - Step9: 集約を見つける

## 改善施策管理の集約

### 改善施策（Improvement Initiative）
- エンティティ：
  - 施策ID
  - 施策名
  - 概要
  - 提案者
  - 提案日
  - 現在のステータス
- 値オブジェクト：
  - 期待効果
  - コスト見積り
  - IRR計算結果
- 履歴管理：
  - ステータス履歴
  - 評価履歴
  - 承認履歴

### 施策評価（Initiative Assessment）
- エンティティ：
  - 評価ID
  - 施策ID
  - 評価日
  - 評価者
- 値オブジェクト：
  - 実行可能性評価
  - 費用対効果分析
  - 法令遵守評価
  - 利用規約適合性評価

### 施策効果（Initiative Effect）
- エンティティ：
  - 効果測定ID
  - 施策ID
  - 測定期間
- 値オブジェクト：
  - KPI達成度
  - 会員数影響
  - 収益影響
  - フィードバック内容

## 利用規約管理の集約

### 利用規約（Terms of Service）
- エンティティ：
  - 規約ID
  - バージョン
  - 施行日
  - ステータス
- 値オブジェクト：
  - 規約内容
  - 改定箇所
  - 法務確認結果
- 履歴管理：
  - 改定履歴
  - レビュー履歴

### 利用規約同意（Terms Agreement）
- エンティティ：
  - 同意ID
  - 会員ID
  - 規約ID
  - 同意日時
- 値オブジェクト：
  - 同意方法
  - 同意内容
- 履歴管理：
  - 会員ごとの同意履歴

## リリース管理の集約

### リリース（Release）
- エンティティ：
  - リリースID
  - 施策ID
  - リリース日
  - ステータス
- 値オブジェクト：
  - リリース内容
  - 品質評価結果
  - リスク評価
- 履歴管理：
  - リリース履歴
  - 判定履歴
  - 問題発生履歴

### リリースロールバック（Release Rollback）
- エンティティ：
  - ロールバックID
  - リリースID
  - 実施日時
- 値オブジェクト：
  - ロールバック理由
  - 影響範囲
  - 復旧手順

## 開発管理の集約

### 要件定義（Requirement）
- エンティティ：
  - 要件ID
  - 施策ID
  - バージョン
- 値オブジェクト：
  - 機能要件
  - 非機能要件
  - 制約条件
- 履歴管理：
  - 要件変更履歴
  - レビュー履歴

### 開発タスク（Development Task）
- エンティティ：
  - タスクID
  - 要件ID
  - 担当者
  - ステータス
- 値オブジェクト：
  - タスク内容
  - 見積り工数
  - 品質基準
- 履歴管理：
  - 進捗履歴
  - レビュー履歴

## 集約間の関係

1. ライフサイクルの連鎖
   - 改善施策 → 要件定義 → 開発タスク → リリース
   - 各段階での承認や評価が次のフェーズを開始

2. 履歴の相互参照
   - リリースは関連する要件定義を参照
   - 施策効果は関連するリリースを参照
   - ロールバックは関連するリリースを参照

3. 状態の整合性管理
   - 利用規約の改定と会員の同意状況の連携
   - リリースステータスと開発タスクの進捗の連携
   - 施策のステータスと各種評価結果の連携
